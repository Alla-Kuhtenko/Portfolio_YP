# `Описание проекта:` A/B-тестирование.     
В вашем распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.  

## `Цель:` Оценка корректности проведения теста и анализ его результатов.  

## `Задача:`  
Оценить корректность проведения теста по критериям:  
  
- нет пересечений с конкурирующим тестом   
- нет пользователей, участвующих в двух группах теста одновременно  
- распределение пользователей по тестовым группам равномерное   
- группы сформированы правильно

Оценить соответствие техническому заданию.  
**Техническое задание**  

**Название теста:** recommender_system_test  
**группы:** А — контрольная, B — новая платёжная воронка  
**дата запуска:** 2020-12-07  
**дата остановки набора новых пользователей:** 2020-12-21  
**дата остановки:** 2021-01-04  
**аудитория:** в тест должно быть отобрано 15% новых пользователей из региона EU  
**назначение теста:** тестирование изменений, связанных с внедрением улучшенной рекомендательной системы  
**ожидаемое количество участников теста:** 6000  
**ожидаемый эффект:** за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%  
    - **конверсии в просмотр карточек товаров** — событие product_page  
    - **просмотры корзины** — product_cart  
    - **покупки** — purchase    

**Подготовить полученные результаты в виде презентации**

## `Основные вопросы исследования:` 
 - распределение долей по ушедшим и остающимся клиентам  
 - исследование выбросов в данных (score, age, equity, balance, est_salary)  
 - анализ средних значений по оставшимся и ушедшим клиентам (churn)  
 - анализ диаграмм взаимного распределения значений  
 - распределение признаков по оттокам клиентов по отдельным параметрам  
 - статистический анализ данных, проверка гипотез
 - сегментация клиентов по признакам отточности
 - портрет клиента, склонного к уходу.  
  
## `Данные:` 

  ### `Описание данных:`   
     
 ##### `Файлы: final_ab_events.csv, ab_project_marketing_events.csv, final_ab_new_users.csv, final_ab_participants.csv`
 ссылка: [https://code.s3.yandex.net/datasets/](https://code.s3.yandex.net/datasets/):  

`ab_project_marketing_events.csv` — календарь маркетинговых событий на 2020 год.  
  
`name` — название маркетингового события  
`regions` — регионы, в которых будет проводиться рекламная кампания  
`start_dt` — дата начала кампании  
`finish_dt` — дата завершения кампании        
  
    
`final_ab_new_users.csv` — пользователи, зарегистрировавшиеся с 7 до 21 декабря 2020 года.  
  
`user_id` — идентификатор пользователя  
`first_dateм — дата регистрации  
`region` — регион пользователя  
`device` — устройство, с которого происходила регистрация  
  
    
`final_ab_events.csv` — действия новых пользователей в период с 7 декабря 2020 по 4 января 2021 года.  
  
`user_id` — идентификатор пользователя  
`event_dt` — дата и время события  
`event_name` — тип события  
`details` — дополнительные данные о событии. Например, для покупок, **purchase**, в этом поле хранится стоимость покупки в долларах.   
  
    
`final_ab_participants.csv` — таблица участников тестов.  
  
`user_id` — идентификатор пользователя  
`ab_test` — название теста  
`group` — группа пользователя   

## `Требования к исследованию:`  

Описать цели исследования     
Выполнить предобработку данных  
   - преобразовать типы при необходимости  
   - описать пропущенные значения и дубликаты (при условии, что они обнаружатся)  
   - оценить корректность проведения теста  
        - соответствие данных требованиям технического задания  
        - корректность всех пунктов технического задания  
        - время проведения теста (не должно совпадать с маркетинговыми и другими активностями)  
        - аудиторию теста (нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста        одновременно)  
   - проверить равномерность распределения по тестовым группам и правильность их формирования  
Провести исследовательский анализ данных  
   - одинаковость распределения количества событий на пользователя в выборках  
   - как число событий в выборках распределено по дням    
   - как меняется конверсия в воронке в выборках на разных этапах  
   - какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию   
Оценить результаты A/B-тестирования  
   - что можно сказать про результаты  
   - проверить статистическую разницу долей z-критерием  
Описать выводы по этапу исследовательского анализа данных и по проведённой оценке результатов A/B-тестирования  
Общее заключение о корректности проведения теста  
  
По итогам исследования подготовить презентацию. На отправку - формат pdf, прикрепив ссылку на файл в основном проекте.  
 
## `Навыки и используемые библиотеки:`

- Исследовательский анализ данных (EDA), А/В-тестирование, создание презентации в PowerPoint
- pandas, seaborn, numpy, scipy, math, datetime, pandas.plotting 

## `Итоги исследования:`

### Вывод.  
Для проведения А/В-теста допустимый уровень значимости 5%.  
В проведённых тестах разница в пропорциях в действиях **login**, **product_page** говорит о статистически значимом различии.  
В действиях **product_cart** и **purchase**   нет оснований считать доли разными.  
Это говорит о том, что проведение теста не оказало значимого для бизнеса влияния на поведение пользователей в экспериментальной группе.  
А/В-тест можно считать неудачным.  

#### Общее заключение о корректности проведения теста  

##### **Соответствие ТЗ.**  
  
**recommender_system_test** - анализируемый тест.  
**Группы: А (контрольная), B (новая платёжная воронка)** - группы сформированы.    
**Даты:** - отсутствуют данные по событиям за 5 дней перед остановкой теста.  
Проведение теста с наложением на период рождественских и новогодних праздников вызывает вопрос по итерпретации результатов.  
Также имеется потеря данных в df регистрации пользователей (по контрольной группе А) с 13 декабря.  
**Аудитория:** - по условию только жители EU, имеется возможность выбрать 15% в количестве не менее 6000.   
**Назначение теста** - тестирование изменений, связанных с внедрением улучшенной рекомендательной системы.  
В период проведения теста проходила рождественская промо-акция (с 25 декабря и до конца тестирования).  
**Ожидаемое количество участников теста** - в итоге отобрано 3 481, в группе А 2 604 пользователей, в группе В 876 участников.  
Пользователи, которые не имеют событий (только регистрация), из Европы и были включены в тест в количестве 2 870 чел.  
**Ожидаемый эффект** - за 14 дней с момента регистрации в системе пользователи не показали улучшение каждой метрики не менее, чем на 10%.

Также имелись пересечения с конкурирующим тестом и пересечения пользователей, участвующих в двух группах теста одновременно, данные удалены для того, чтобы исключить искажение результата аналитики, т.к. тестирование направлено на то, чтобы оценить влияние внедряемых изменений в разных группах.  
  
Тест проведён некорректно. Результаты тестирования считать неудачными.

**Рекомендации:**  
Провести новый тест в период, желательно исключающий признаки сезонности.  
Изменить подход к выборке данных, исключить описанные в анализе ошибки.  
Выгрузку данных осуществить в полном объёме, проверить на соответствие дат.  
Осуществить технический мониторинг работы стартовой страницы и страницы с предложением, проведённый анализ выявил существенную потерю пользователей на первых двух этапах воронки. Необходимо исключить технические поломки.    

##  [Посмотреть ход решения](https://github.com/Alla-Kuhtenko/Portfolio_YP/blob/main/A_B-testing/A_B-testing.ipynb)
